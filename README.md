# MixedBathroom
Mixed Bathroom concurrency problem using Semaphores

21720 Concurrent Programming
Course 2021 - 2022
First evaluable exercise: The problem of the mixed bathroom with semaphores
Description of the simulation
There are 6 women and 6 men working in a law firm and there is only one mixed bathroom. The director has
set some rules for its use:
• There can be no women or men in the bathroom at the same time
• There can be a maximum of 3 women or 3 men at a time
• They go to the bathroom twice during the working day
Indications
Simulation should be programmed using Java or Python languages ​​using synchronization tools
only semaphores, both counters and binaries.
Women and men should be programmed as concurrent processes, they should be assigned an identifier
which will be a string. After leaving the bathroom the second time the processes end.
It must be ensured that there is no starvation (despite the completion of the processes) so a simulation
it would be wrong, for example, for all women to be there first and then all men (or a
the other way around).
It is advisable to solve the problem in stages, for example:
1. Launch the process and end with two start and end messages
2. Access to the bathroom with mutual exclusion, only one process at a time, empty bathroom control
3. Schedule groups of 3 (indifferent men and women)
4. Separate men from women and maintain counters
5. Adjust waiting simulation and message interleaving control
Example
The output to be generated by the simulation should be as follows: the processes will display a
message at start-up and at the end, another message every time they cycle, a message
on entering the bathroom showing the counter of times they have accessed the critical area and the counter
men or women, a message on leaving and a message every time the bathroom is empty. Per
example:

GORI arrives at the office
COSME arrives at the office
JAUME arrives at the office
DAMIA arrives at the office
ANTONI arrives at the office
JAUME works
BERNAT arrives at the office
BERNAT works
COSME works
ANTONI works
GORI works
DAMIA works
 AINA arrives at the office
 GERONIA arrives at the office
 CATALINA arrives at the office
 ELISABET arrives at the office
 JOANA arrives at the office
 AINA works
 FRANCESCA arrives at the office
 FRANCESCA works
 GERONIA works
 CATALINA works
 ELISABET works
 JOANA works
JAUME enters 1/2. Men in the bathroom: 1
JAUME leaves
*** The bathroom is empty ***
JAUME works
ANTONI enters 1/2. Men in the bathroom: 1
BERNAT enters 1/2. Men in the bathroom: 2
ANTONI leaves
ANTONI works
JAUME enters 2/2. Men in the bathroom: 2
BERNAT leaves
BERNAT works
JAUME leaves
*** The bathroom is empty ***
JAUME finishes the work
 ELISABET enters 1/2. Women in the bathroom: 1
 ELISABET leaves
*** The bathroom is empty ***
 ELISABET works
DAMIA enters 1/2. Men in the bathroom: 1
DAMIA leaves
*** The bathroom is empty ***
DAMIA works
 CATALINA enters 1/2. Women in the bathroom: 1
 FRANCESCA enters 1/2. Women in the bathroom: 2
 CATALINA leaves
 CATALINA works
 FRANCESCA leaves
*** The bathroom is empty ***
 FRANCESCA works
COSME enters 1/2. Men in the bathroom: 1
COSME leaves
*** The bathroom is empty ***
COSME works
 JOANA enters 1/2. Women in the bathroom: 1
 GERONIA enters 1/2. Women in the bathroom: 2
 AINA enters 1/2. Women in the bathroom: 3
 JOANA leaves
 JOANA works
 GERONIA leaves
 GERONIA works
 AINA leaves
*** The bathroom is empty ***
 AINA works
GORI enters 1/2. Men in the bathroom: 1
BERNAT enters 2/2. Men in the bathroom: 2
ANTONI enters 2/2. Men in the bathroom: 3
BERNAT leaves
BERNAT finishes the job
ANTONI leaves
ANTONI finishes work
GORI leaves
*** The bathroom is empty ***
GORI works
 ELISABET enters 2/2. Women in the bathroom: 1
 ELISABET leaves
*** The bathroom is empty ***
DAMIA enters 2/2. Men in the bathroom: 1
 ELIZABETH finishes the work
DAMIA leaves
*** The bathroom is empty ***
DAMIA finishes the job
 FRANCESCA enters 2/2. Women in the bathroom: 1
 CATALINA enters 2/2. Women in the bathroom: 2
 FRANCESCA leaves
 FRANCESCA finishes her work
 CATALINA leaves
*** The bathroom is empty ***
 CATALINA finishes her work
COSME enters 2/2. Men in the bathroom: 1
COSME leaves
*** The bathroom is empty ***
COSME finishes the job
 GERONIA enters 2/2. Women in the bathroom: 1
 AINA enters 2/2. Women in the bathroom: 2
 JOANA enters 2/2. Women in the bathroom: 3
 AINA leaves
 AINA finishes the job
 GERONIA leaves
 GERONIA finishes the job
 JOANA leaves
*** The bathroom is empty ***
 JOANA finishes the work
GORI enters 2/2. Men in the bathroom: 1
GORI leaves
*** The bathroom is empty ***
GORI finishes the job
BUILD SUCCESSFUL (total time: 19 seconds)
